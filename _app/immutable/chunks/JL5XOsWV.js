const u="en",c=["en","fr","zh"],s="PARAGLIDE_LOCALE";const f=["cookie","globalVariable","baseLocale"];globalThis.__paraglide={};let n,r=!1,g=()=>{let e;for(const o of f)if(o==="cookie"?e=h():o==="baseLocale"?e=u:o==="globalVariable"&&n!==void 0&&(e=n),e!==void 0){const t=p(e);return r||(n=t,r=!0,m(t,{reload:!1})),t}throw new Error("No locale found. Read the docs https://inlang.com/m/gerre34r/library-inlang-paraglideJs/errors#no-locale-found")},m=(e,o)=>{const t={reload:!0,...o};let i;try{i=g()}catch{}for(const a of f)if(a==="globalVariable")n=e;else if(a==="cookie"){if(typeof document>"u"||typeof window>"u")continue;const d=window.location.hostname;document.cookie=`${s}=${e}; path=/; max-age=34560000; domain=${d}`}else if(a==="baseLocale")continue;t.reload&&window.location&&e!==i&&window.location.reload()},w=()=>typeof window<"u"?window.location.origin:"http://fallback.com";function l(e){return e?c.includes(e):!1}function p(e){if(l(e)===!1)throw new Error(`Invalid locale: ${e}. Expected one of: ${c.join(", ")}`);return e}function h(){if(typeof document>"u"||!document.cookie)return;const e=document.cookie.match(new RegExp(`(^| )${s}=([^;]+)`)),o=e==null?void 0:e[2];if(l(o))return o}function b(e){return L(e)}function L(e){const o=typeof e=="string"?new URL(e,w()):new URL(e),t=o.pathname.split("/").filter(Boolean);return t.length>0&&l(t[0])&&(o.pathname="/"+t.slice(1).join("/")),o}export{b as d,g,c as l,m as s};
