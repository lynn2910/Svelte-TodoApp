import{t as T,s as g,a as A,e as N}from"../chunks/DYPRciYX.js";import{a5 as O,j as P,m as S,v as p,z as u,y as x,a6 as q,A as Z,w as j,a7 as C,x as R}from"../chunks/Bd_HBLZE.js";import{r as U,a as B,e as J,s as G}from"../chunks/BDTVRFTa.js";import{i as I,a as K,b as Q,c as V}from"../chunks/DhK5TR9G.js";import{g as k}from"../chunks/JL5XOsWV.js";function D(e,a,t){O(()=>{var n=P(()=>a(e,t==null?void 0:t())||{});if(n!=null&&n.destroy)return()=>n.destroy()})}function W(e){const a=JSON.parse(e);return a.data&&(a.data=Q(a.data,V.decoders)),a}function _(e){return HTMLElement.prototype.cloneNode.call(e)}function f(e,a=()=>{}){const t=async({action:r,result:s,reset:o=!0,invalidateAll:c=!0})=>{s.type==="success"&&(o&&HTMLFormElement.prototype.reset.call(e),c&&await I()),(location.origin+location.pathname===r.origin+r.pathname||s.type==="redirect"||s.type==="error")&&await K(s)};async function n(r){var y,E,L,M,z;if(((y=r.submitter)!=null&&y.hasAttribute("formmethod")?r.submitter.formMethod:_(e).method)!=="post")return;r.preventDefault();const o=new URL((E=r.submitter)!=null&&E.hasAttribute("formaction")?r.submitter.formAction:_(e).action),c=(L=r.submitter)!=null&&L.hasAttribute("formenctype")?r.submitter.formEnctype:_(e).enctype,d=new FormData(e),b=(M=r.submitter)==null?void 0:M.getAttribute("name");b&&d.append(b,((z=r.submitter)==null?void 0:z.getAttribute("value"))??"");const w=new AbortController;let h=!1;const v=await a({action:o,cancel:()=>h=!0,controller:w,formData:d,formElement:e,submitter:r.submitter})??t;if(h)return;let l;try{const i=new Headers({accept:"application/json","x-sveltekit-action":"true"});c!=="multipart/form-data"&&i.set("Content-Type",/^(:?application\/x-www-form-urlencoded|text\/plain)$/.test(c)?c:"application/x-www-form-urlencoded");const F=c==="multipart/form-data"?d:new URLSearchParams(d),H=await fetch(o,{method:"POST",headers:i,cache:"no-store",body:F,signal:w.signal});l=W(await H.text()),l.type==="error"&&(l.status=H.status)}catch(i){if((i==null?void 0:i.name)==="AbortError")return;l={type:"error",error:i}}await v({action:o,formData:d,formElement:e,update:i=>t({action:o,result:l,reset:i==null?void 0:i.reset,invalidateAll:i==null?void 0:i.invalidateAll}),result:l})}return HTMLFormElement.prototype.addEventListener.call(e,"submit",n),{destroy(){HTMLFormElement.prototype.removeEventListener.call(e,"submit",n)}}}var X=T('<div class="flex flex-row w-full items-center justify-between content-center min-w-56 mb-2 hover:bg-gray-200 py-2 px-3 rounded"><span> </span> <form method="POST" action="?/delete"><input type="hidden" name="id"> <button aria-label="Mark as complete"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 -960 960 960" class="cursor-pointer fill-gray-500 hover:fill-red-800 p-2 h-10 w-10"><path d="M280-120q-33 0-56.5-23.5T200-200v-520h-40v-80h200v-40h240v40h200v80h-40v520q0 33-23.5 56.5T680-120H280Zm400-600H280v520h400v-520ZM360-280h80v-360h-80v360Zm160 0h80v-360h-80v360ZM280-720v520-520Z"></path></svg></button></form></div>');function Y(e,a){S(a,!0);var t=X(),n=p(t),r=p(n,!0);u(n);var s=x(n,2),o=p(s);U(o),q(2),u(s),D(s,c=>f==null?void 0:f(c)),u(t),Z(()=>{g(r,a.todo.title),B(o,a.todo.id)}),A(e,t),j()}const $=()=>"Task management",tt=()=>"Task management",et=()=>"任务管理",at=(e={},a={})=>{const t=a.locale??k();return t==="en"?$():t==="fr"?tt():t==="zh"?et():"title"},rt=()=>"Add a task:",nt=()=>"Ajouter une tâche:",ot=()=>"添加任务：",it=(e={},a={})=>{const t=a.locale??k();return t==="en"?rt():t==="fr"?nt():t==="zh"?ot():"add_input.label"},lt=()=>"New task...",st=()=>"Nouvelle tâche...",ct=()=>"新任务...",ut=(e={},a={})=>{const t=a.locale??k();return t==="en"?lt():t==="fr"?st():t==="zh"?ct():"add_input.placeholder"};var dt=T("<li><!></li>"),pt=T('<div class="flex flex-col mt-24 items-center content-center w-fit mx-auto h-screen gap-5"><h1 class="font-bold text-2xl mb-6"> </h1> <form method="POST" class="flex flex-row items-center content-center"><label class="flex flex-row gap-1"><span class="font-semibold w-36 my-auto"> </span> <input name="title" autocomplete="off" class="h-10 py-2 px-3 rounded-lg"></label></form> <ul class="w-full"></ul></div>');function wt(e,a){S(a,!0);const t=C([]);var n=pt(),r=p(n),s=p(r,!0);u(r);var o=x(r,2),c=p(o),d=p(c),b=p(d,!0);u(d);var w=x(d,2);u(c),u(o),D(o,m=>f==null?void 0:f(m));var h=x(o,2);J(h,21,()=>t,m=>m.id,(m,v)=>{var l=dt(),y=p(l);Y(y,{get todo(){return R(v)}}),u(l),A(m,l)}),u(h),u(n),Z((m,v,l)=>{g(s,m),g(b,v),G(w,"placeholder",l)},[()=>at(),()=>it(),()=>ut()]),N("submit",o,()=>console.log("Hello")),A(e,n),j()}export{wt as component};
